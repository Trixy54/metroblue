<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JQUERY INTRODUCTION</title>
    <link rel="stylesheet" href="ajaxstyle.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>

<body>
    <header>
        <h1>Jquery Crash Course|AJAX</h1>
    </header>
    <div id="container">
        <div id="result"></div>
        <ul id="user"></ul>
        <h3>Add Post</h3>
        <form>
            <input type="text" id="title" placeholder="Title">
            <br>
            <textarea placeholder="Body" id="body"></textarea>
            <br>
            <input type="submit" value="submit">
        </form>
    </div>
    <script>
        $(document).ready(function () {
            // $('#result').load('ajaxpro.html', function (responseTxt, statusTxt, xhr) {
            //     if (statusTxt == "success") {
            //         alert('it went fine')
            //     } else if (statusTxt == "error") {
            //         alert("Error:" + xhr.statusText);
            //     }
            // });

            // $.get('test.html', function (data) {
            //     $('#result').html(data);
            // });
            // $.getJSON('user.json', function (data) {
            //     $.each(data, function (i, user) {
            //         $('ul#user').append('<li>' + user.firstName + '</li>');
            //     });
            // });
            // $.ajax({
            //     method: 'GET',
            //     url: 'https://jsonplaceholder.typicode.com/posts',
            //     dataType: 'json'
            // }).done(function (data) {
            //     console.log(data);
            //     $.map(data, function (post, i) {
            //         $('#result').append('<h3>' + post.title + '</h3><p>' + post.body + '</p>');
            //     });
            // });

            $('#postForm').submit(function (e) {
                e.preventDefault();
                var title = $('#title').val();
                var body = $('#body').val();
                var url = (this).attr('action');

                $.post(url, { title: title, body: body }).
                    done(function (data) {
                        console.log('Post Saved');
                        console.log(data);
                    });
            });

        });
    </script>
</body>

</html>